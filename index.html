<script type=module>const t=document.getElementsByTagName("canvas")[0],e=t.t("2d");function n(){t.e=window.innerWidth,t.n=window.innerHeight}function i(){e.i="#121212",e.s(0,0,t.e,t.n)}function s(t,e){const n=t.a+e.a;return Math.sqrt(Math.pow(t.o-e.o,2)+Math.pow(t.r-e.r,2))<n}function a(n,o,s){e.c="#eee",e.u=o+"em sans-serif";const a=t.e/2,r=e.d(n).e;e.h(n,a-r/2,s)}function o(t){const e=t;return void 0!==e.f&&void 0!==e.l&&void 0!==e.v}function r(t){const e=t;return o(t)&&void 0!==e.a&&void 0!==e.x&&void 0!==e.M}function c(t){return t.y}function u(t,e){const n=t.m(e);n>-1&&t.F(n,1)}function d(t,e,n){const o=n.p;(function(t){const e=t;return r(t)&&void 0!==e.w})(e)&&(n.w+=e.w,u(o,e))}let h=!1;const f=new class{G(){this.k=0,this.E="#ffe",this.P=3,this.b=200,this.j=[...Array(100)].A(t=>[Math.round(2e3*Math.random()),Math.round(2e3*Math.random())])}C(t){this.k+=t}L(){const t=this.P,n=this.b;let o=Math.round(this.k/n);this.j.g(([n,s])=>{switch(o=(o+1)%4,e.i=this.E,o){case 0:e.s(n,s,t,t);break;case 1:case 3:e.s(n-t,s,3*t,t),e.s(n,s-t,t,3*t);break;case 2:e.s(n-t,s,3*t,t),e.s(n,s-t,t,3*t),e.i="#121212",e.s(n,s,t,t)}})}},l={w:0,p:[{o:300,r:200,f:100,l:!1,a:10,x:"#fff",v:!0,M:.5*Math.PI,y:!0,q:0,S:1,$:{z:0,D:0}},{o:300,r:300,f:100,l:!1,a:30,x:"#f00",v:!0,M:.5*Math.PI},{o:600,r:300,f:100,l:!1,a:30,x:"#33f",v:!0,M:0},{o:130,r:305,f:5,l:!1,a:5,x:"#0f0",v:!1,$:{z:.03,D:.03}},{o:50,r:35,f:5,l:!1,a:5,x:"#0f0",v:!1,$:{z:.03,D:-.03},M:0},...[...new Array(10)].A(t=>({o:1e3*Math.random(),r:1e3*Math.random(),w:1,a:20,x:"#fff",M:0,f:0,l:!1,v:!0}))]};let v=!1,x=0;function M(n){if(v)return i(),e.i="#222",e.s(0,0,t.e,t.n),a("Planet Hoppers",6,150),void a("Press Space to Resume",3,300);i();const M=l.p;Math.floor(n/1e3)-Math.floor(x/1e3)&&M.H({o:Math.random()*t.e,r:Math.random()*t.n,f:5,l:!1,a:5,x:"#0f0",v:!1,$:{z:.03,D:-.03},M:0});const w=n-x;var m;x=n,console.debug("FPS: "+1e3/w),function(t,e){const n=t.p;f.C(e);const a=n.R(c);if(h){if(a.v){const t=.2*a.S*e;let n=a.q+t;n>100?(a.S=-1,n-=n-100):n<0&&(a.S=1,n=Math.abs(n)),a.q=n}}else{const t=a.q;t&&(a.q=0,a.S=1,a.v=!1,a.$.D=.002*t)}const i=n.U(o);i.U(t=>!t.v).g(o=>{var a;o.$=null!=(a=o.$)?a:{z:0,D:0};let f=0,h=0;i.g(t=>{if(o===t)return;const e=t.o-o.o||1e-8,n=t.r-o.r||1e-8,s=Math.sqrt(Math.pow(e,2)+Math.pow(n,2)),a=2e-5*o.f/(s*Math.sqrt(s+.15));f+=e*a,h+=n*a}),o.$.z+=f*e,o.$.D+=h*e,r(o)&&(o.M=Math.atan2(h,f)),o.o+=o.$.z*e,o.r+=o.$.D*e,n.g(e=>{e===o||c(e)||(c(o)?r(e)&&s(o,e)&&d(0,e,t):r(e)&&r(o)&&s(e,o)&&(console.log("Collision!"),u(n,o),e.v||u(n,e)))})})}(l,w),f.L(),M.g(t=>{if(r(t)&&(e.B(),e.i=function(t,n,o,s,a,r,i){const c=e.I(o,s,o+Math.cos(i)*a,s+Math.sin(i)*r);return c.J(0,t),c.J(1,"#000"),c}(t.x,0,t.o,t.r,2*t.a,2*t.a,t.M),e.K(t.o,t.r,t.a,0,2*Math.PI),e.N()),c(t)){const{o:n,r:o,q:s,a:a}=t;if(!s)return;e.i="#e43";const r=n+a+10,i=o-s;e.s(r,i,10,s)}}),m=l,e.i="#eee",e.u="30px sans-serif",e.O("Points: "+m.w,10,40)}function y(){v=!0}function m(t){switch(t.Q){case"Escape":return void y();case" ":return t.T(),v&&(v=!1),void(h=!0);default:console.debug("Unhandled keypress",t.Q)}}function F(t){switch(t.Q){case" ":t.T(),h=!1}}!function(){const t=e=>{M(e),requestAnimationFrame(t)};requestAnimationFrame(t),addEventListener("blur",y),addEventListener("keydown",m),addEventListener("keyup",F),addEventListener("resize",n),n()}()</script><style>*{margin:0;overflow:hidden}</style><canvas/>