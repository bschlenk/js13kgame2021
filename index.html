<script type=module>const t=document.getElementsByTagName("canvas")[0],e=t.t("2d");function n(){t.e=window.innerWidth,t.n=window.innerHeight}function i(){e.i="#121212",e.a(0,0,t.e,t.n)}function a(t,e){return n=t.o-e.o,o=t.s-e.s,Math.atan2(o,n);var n,o}function o(t,e=1){return{o:Math.cos(t)*e,s:Math.sin(t)*e}}function s(t,e){const n=t.r+e.r;return function(t,e){return Math.sqrt(Math.pow(t.o-e.o,2)+Math.pow(t.s-e.s,2))}(t,e)<n}function r(n,o,s){e.c="#eee",e.u=o+"em sans-serif";const a=t.e/2,r=e.h(n).e;e.d(n,a-r/2,s)}function c(t){const e=t;return void 0!==e.f&&void 0!==e.l&&void 0!==e.M}function u(t){const e=t;return c(t)&&void 0!==e.r&&void 0!==e.y&&void 0!==e.x}function h(t){return"collectible"===t.v}function d(t){return t.p}function f(t,e){const n=t.m(e);n>-1&&t.F(n,1)}let l=!1;const M=new class{w(){this.b=0,this.G="#ffe",this.g=3,this.k=200,this.E=[...Array(100)].L(t=>[Math.round(2e3*Math.random()),Math.round(2e3*Math.random())])}P(t){this.b+=t}j(){const t=this.g,n=this.k;let o=Math.round(this.b/n);this.E.A(([n,s])=>{switch(o=(o+1)%4,e.i=this.G,o){case 0:e.a(n,s,t,t);break;case 1:case 3:e.a(n-t,s,3*t,t),e.a(n,s-t,t,3*t);break;case 2:e.a(n-t,s,3*t,t),e.a(n,s-t,t,3*t),e.i="#121212",e.a(n,s,t,t)}})}},y={C:0,S:[{o:300,s:200,f:100,l:!1,r:10,y:"#fff",M:!1,x:.5*Math.PI,p:!0,q:0,$:1,z:{D:0,H:0},v:"player"},{o:300,s:300,f:100,l:!1,r:30,y:"#f00",M:!0,x:.5*Math.PI,v:"planet"},{o:600,s:300,f:100,l:!1,r:30,y:"#33f",M:!0,x:0,v:"planet"},{o:130,s:305,f:5,l:!1,r:5,y:"#0f0",M:!1,z:{D:.03,H:.03},v:"asteroid"},{o:50,s:35,f:5,l:!1,r:5,y:"#0f0",M:!1,z:{D:.03,H:-.03},x:0,v:"asteroid"}]};function x(t,e){const n=t.S;M.P(e);const r=n.R(d);if(l){if(r.M){const t=.2*r.$*e;let n=r.q+t;n>100?(r.$=-1,n-=n-100):n<0&&(r.$=1,n=Math.abs(n)),r.q=n}}else{const t=r.q;if(t){r.q=0,r.$=1,r.M=!1;const{o:e,s:n}=o(r.x,.002*t);r.z.D=e,r.z.H=n}}const i=n.U(c);i.U(t=>!t.M).A(r=>{var c;if(h(r))return void function(t,e){t.X+=t.Y*(e/1e3),t.o=t.B*Math.cos(t.X)+t.I,t.s=t.B*Math.sin(t.X)+t.J}(r,e);r.z=null!=(c=r.z)?c:{D:0,H:0};let M=0,l=0;i.A(t=>{if(r===t)return;const e=t.o-r.o||1e-8,n=t.s-r.s||1e-8,o=Math.sqrt(Math.pow(e,2)+Math.pow(n,2)),s=2e-5*r.f/(o*Math.sqrt(o+.15));M+=e*s,l+=n*s}),r.z.D+=M*e,r.z.H+=l*e,u(r)&&(r.x=Math.atan2(l,M)),r.o+=r.z.D*e,r.s+=r.z.H*e,n.A(e=>{e===r||d(e)||(d(r)?u(e)&&s(r,e)&&function(t,e,n){const s=n.S;if(h(e)&&(n.C+=e.C,f(s,e)),e.M&&!e.C){t.M=!0,t.x=a(t,e);const n=t.r+e.r,{o:s,s:r}=o(t.x,n);t.o=e.o+s,t.s=e.s+r,t.z.D=0,t.z.H=0}}(r,e,t):u(e)&&u(r)&&s(e,r)&&(console.log("Collision!"),f(n,r),e.M||f(n,e)))})})}y.S.A(t=>{if("planet"===t.v){const e=Math.floor(10*Math.random()+10),n=[...new Array(e)].L(e=>({o:0,s:0,I:t.o,J:t.s,Y:(.1*Math.random()+.1)*(Math.random()<.5?-1:1),X:Math.random()*Math.PI*2,B:50*Math.random()+100,C:1,r:3,y:"#fff",x:0,f:0,l:!1,M:!1,v:"collectible"}));y.S=y.S.K(n)}});let v=!1,p=0;function m(n){if(v)return i(),e.i="#222",e.a(0,0,t.e,t.n),r("Planet Hoppers",6,150),void r("Press Space to Resume",3,300);i();const o=y.S;Math.floor(n/1e3)-Math.floor(p/1e3)&&o.N({o:Math.random()*t.e,s:Math.random()*t.n,f:5,l:!1,r:5,y:"#0f0",M:!1,z:{D:.03,H:-.03},x:0,v:"asteroid"});const s=n-p;var a;p=n,console.debug("FPS: "+1e3/s),x(y,s),M.j(),o.A(t=>{if(u(t)&&(e.O(),e.i=function(t,n,o,s,a,r,i){const c=e.Q(o,s,o+Math.cos(i)*a,s+Math.sin(i)*r);return c.T(0,t),c.T(1,"#000"),c}(t.y,0,t.o,t.s,2*t.r,2*t.r,t.x),e.V(t.o,t.s,t.r,0,2*Math.PI),e.W()),d(t)){const{o:n,s:o,q:s,r:a}=t;if(!s)return;e.i="#e43";const r=n+a+10,i=o-s;e.a(r,i,10,s)}}),a=y,e.i="#eee",e.u="30px sans-serif",e.Z("Points: "+a.C,10,40)}function F(){v=!0}function w(t){switch(t._){case"Escape":return void F();case" ":return t.tt(),v&&(v=!1),void(l=!0);default:console.debug("Unhandled keypress",t._)}}function b(t){switch(t._){case" ":t.tt(),l=!1}}!function(){const t=e=>{m(e),requestAnimationFrame(t)};requestAnimationFrame(t),addEventListener("blur",F),addEventListener("keydown",w),addEventListener("keyup",b),addEventListener("resize",n),n()}()</script><style>*{margin:0;overflow:hidden}</style><canvas/>